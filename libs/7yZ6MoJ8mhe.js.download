if (self.CavalryLogger) { CavalryLogger.start_js(["b41TdUQ"]); }

__d("MPNDesktopWelcomePageBottomButtons.react",["cx","fbt","EllipsisText.react","LineClamp.react","LiveChatPluginLoggerUtil","MPNConstants","MPNIdentity","MPNLocalState","MPNMessengerIconSVG.react","MPNNavigation","MPNStorage","MPNXDMessageManager","MessagingPluginContext","MessagingPluginThreadActions","PopupWindow","ShimButton.react","XChatPluginDesktopIncognitoLoginPopupController","XChatPluginProfilePlusVoiceSwitchPopupController","gkx","performanceAbsoluteNow","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=250;a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$3=function(){var a=e.context,b=a.state,f=a.dispatchAction;a=b.pageID;var g=b.hasGuestMode,h=b.pagePassesSentryTest,i=b.hasMessagingPermission,j=b.isSanitizedEpd3pdRequest;b=d("MPNIdentity").MPNIdentity.currentUserState();var l=d("MPNIdentity").MPNIdentity.currentUserID();f({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});if(b==d("MPNIdentity").MPNIdentityState.FB&&l!=null){if(!h&&!i){(b=e.props.ActionDelegate)==null?void 0:b.openThreadWithInterstitial(function(){var a;(a=e.props.ActionDelegate)==null?void 0:a.openThreadWithCurrentFBUser();d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);f({type:"UPDATE_BLOCK_STATUS",isPageBlocked:!1})});return}d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW);(l=e.props.ActionDelegate)==null?void 0:l.openThreadWithCurrentFBUser();d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"continue_as"});return}d("MPNIdentity").MPNIdentity.performUIAction(function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){if(j){c("MPNXDMessageManager").reloadPlugin(!0);return}return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();if(a!=null){c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}));b={path:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN};c("MPNStorage").setThirdPartyStorageState(b)}},k);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(e.context,!1,!1)},function(){if(d("MPNIdentity").MPNIdentity.cookieUserUncached()!="0"){c("MPNXDMessageManager").reloadPlugin(!0);return}d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.LOGGED_IN_CHAT_STARTED,rdr:d("MPNConstants").MPNRedirect.FB_LOG_IN}))},k);if(d("MPNIdentity").MPNIdentity.isProfilePlusUserUncached()){d("MPNIdentity").MPNIdentity.subscribeLoggedInUserChanges(function(a,b){d("MPNIdentity").MPNIdentity.currentUserState()!=d("MPNIdentity").MPNIdentityState.GUEST&&(c("MPNStorage").clearFBStorageState(),c("MPNStorage").clearThirdPartyStorageState()),c("MPNXDMessageManager").reloadPlugin()});var a=c("XChatPluginProfilePlusVoiceSwitchPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)}else d("MessagingPluginThreadActions").presentPluginOptIn(e.context,!1,!1)},function(){var a=c("XChatPluginDesktopIncognitoLoginPopupController").getURIBuilder().getURI();d("PopupWindow").open(a.toString(),420,450)});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,a,g?"welcome_page_with_guest_option":"welcome_page",{button_name:"log_in_messenger"})},e.$1=function(){var a=e.context,b=a.state;a=a.dispatchAction;b=b.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(e.$5,function(){var a=c("MPNStorage").getFBStorageState();a==null?a={requestID:c("MPNStorage").requestID,currentPath:d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW,userID:"0",chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,visibility:d("MPNConstants").MPNVisibility.NOT_HIDDEN,showUpgradePrompt:d("MPNConstants").MPNUpgradePrompt.NOT_SHOWN,accessToken:null,expirationTimestamp:null,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}:a=babelHelpers["extends"]({},a,{chatState:d("MPNLocalState").MPNChatState.CHAT_NOT_STARTED,rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION});c("MPNStorage").setFBStorageState(a);c("MPNXDMessageManager").reloadPlugin()},function(){var a=e.context.dispatchAction;a({type:"UPDATE_COOKIE_ACCESS_DENIED",cookieAccessDenied:!0});e.$5()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"welcome_page_with_guest_option",{button_name:"continue_as_guest"})},e.$5=function(){var a=e.context.state.isSanitizedEpd3pdRequest;if(a){a=c("MPNStorage").getFBStorageState();a!=null&&c("MPNStorage").setFBStorageState(babelHelpers["extends"]({},a,{rdr:d("MPNConstants").MPNRedirect.NEW_GUEST_SESSION}));c("MPNXDMessageManager").reloadPlugin(!0)}else d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),e.props.ActionDelegate&&e.props.ActionDelegate.onContinueAsGuest(function(){})},e.$2=function(){var a=e.context,b=a.state;a=a.dispatchAction;b=b.pageID;a({type:"UPDATE_CONTINUE_CLICK_TIME",continueClickTime:c("performanceAbsoluteNow")()});d("MPNIdentity").MPNIdentity.performUIAction(function(){d("MPNNavigation").navigateToRoute(e.props.history,d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW)},function(){d("MPNIdentity").MPNIdentity.clearUserChangesSubscription(),c("MPNStorage").setPath(d("MPNLocalState").MPNLocalStatePath.THREAD_VIEW),c("MPNXDMessageManager").reloadPlugin()},function(){c("MPNStorage").clearThirdPartyStorageState(),c("MPNXDMessageManager").reloadPlugin()});d("LiveChatPluginLoggerUtil").logActionFromNewUI("tab_click",null,b,"itp_page",{button_name:"continue"})},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.context.state,b=a.hasGuestMode;a=a.threadCSSColor;var e=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;e=c("gkx")("1189683");e=!b&&!e;b=b?j.jsx(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$1,className:"_909e",children:j.jsx(c("LineClamp.react"),{lines:1,children:i._("Ti\u1ebfp t\u1ee5c v\u1edbi vai tr\u00f2 kh\u00e1ch")})}):null;return this.props.useITPContinueButton?j.jsx("div",{className:"_909c",children:j.jsx(c("ShimButton.react"),{onClick:this.$2,className:"_909d",style:{backgroundColor:a},children:j.jsx(c("LineClamp.react"),{className:"continueText",lines:1,children:i._("Ti\u1ebfp t\u1ee5c")})})}):j.jsxs("div",{className:(e?"":"_909c")+(e?" _9ihg":""),children:[j.jsxs(c("ShimButton.react"),{"data-testid":void 0,onClick:this.$3,className:"_909d",style:{backgroundColor:a},children:[j.jsx(c("MPNMessengerIconSVG.react"),{}),j.jsx(c("EllipsisText.react"),{className:"continueText _4mr9",children:this.$4()})]}),b]})};e.$4=function(){var a,b=d("MPNIdentity").MPNIdentity.currentUserState()==d("MPNIdentity").MPNIdentityState.FB;a=(a=d("MPNIdentity").MPNIdentity.currentUser())==null?void 0:a.shortName;if(!b)if(this.context.state.shouldUseChatInMessengerCTA)return i._("Chat trong Messenger");else return i._("\u0110\u0103ng nh\u1eadp v\u00e0o Messenger");return a!==null?i._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {first name}",[i._param("first name",a)]):i._("Ti\u1ebfp t\u1ee5c")};return b}(j.Component);a.contextType=c("MessagingPluginContext");g["default"]=a}),98);
__d("DataTransfer",["PhotosMimeType","Promise","createArrayFromMixed","emptyFunction","promiseDone"],(function(a,b,c,d,e,f){var g=new RegExp("\r\n","g"),h="\n",i={"text/rtf":1,"text/html":1};function j(a){if(a.kind=="file")return a.getAsFile()}function k(a){return new(b("Promise"))(function(b){a.file(function(a){b([a])})})}function l(a){return typeof a.webkitGetAsEntry==="function"?a.webkitGetAsEntry():null}function m(a,c){return new(b("Promise"))(function(d){b("promiseDone")(b("Promise").all(a.map(function(a){var b=l(a);if(b&&b.createReader!=null){c();return n(b)}else{return(b=j(a))!=null?b:[]}})),function(a){d(a.flatMap(b("emptyFunction").thatReturnsArgument))})})}function n(a){return new(b("Promise"))(function(c){var d=a.createReader(),e=[],f=function(){b("promiseDone")(b("Promise").all(e.map(function(a){if(a.isDirectory)return n(a);else return k(a)})),function(a){c(a.flatMap(b("emptyFunction").thatReturnsArgument))})},g=function a(){d.readEntries(function(b){b.length?(e=e.concat(b),a()):f()},f)};g()})}a=function(){"use strict";function a(a){this.data=a,this.types=a.types?b("createArrayFromMixed")(a.types):[]}var c=a.prototype;c.isRichText=function(){if(this.getHTML()&&this.getText())return!0;return this.isImage()?!1:this.types.some(function(a){return i[a]})};c.getText=function(){var a;!this.types.length?a=this.data.getData("Text"):this.types.indexOf("text/plain")!=-1&&(a=this.data.getData("text/plain"));return a?a.replace(g,h):null};c.getHTML=function(){if(this.data.getData)if(!this.types.length)return this.data.getData("Text");else if(this.types.indexOf("text/html")!=-1)return this.data.getData("text/html")};c.isLink=function(){return this.types.some(function(a){return a.indexOf("Url")!=-1||a.indexOf("text/uri-list")!=-1||a.indexOf("text/x-moz-url")!=-1})};c.getLink=function(){if(this.data.getData){if(this.types.indexOf("text/x-moz-url")!=-1){var a=this.data.getData("text/x-moz-url").split("\n");return a[0]}return this.types.indexOf("text/uri-list")!=-1?this.data.getData("text/uri-list"):this.data.getData("url")}return null};c.isImage=function(){var a=this.types.some(function(a){return a.indexOf("application/x-moz-file")!=-1});if(a)return!0;a=this.getFiles();for(var c=0;c<a.length;c++){var d=a[c].type;if(!b("PhotosMimeType").isImage(d))return!1}return!0};c.getCount=function(){if(Object.prototype.hasOwnProperty.call(this.data,"items"))return this.data.items.length;else if(Object.prototype.hasOwnProperty.call(this.data,"mozItemCount"))return this.data.mozItemCount;else if(this.data.files)return this.data.files.length;return null};c.getFiles=function(){if(this.data.items)return Array.prototype.slice.call(this.data.items).map(j).filter(b("emptyFunction").thatReturnsArgument);else if(this.data.files)return Array.prototype.slice.call(this.data.files);else return[]};c.getRecursiveFiles=function(a){if(this.data.items)return m(Array.prototype.slice.call(this.data.items),a);else if(this.data.files)return new(b("Promise"))(Array.prototype.slice.call(this.data.files))};c.hasFiles=function(){return this.getFiles().length>0};return a}();e.exports=a}),null);
__d("ISOCountryCode",[],(function(a,b,c,d,e,f){a=Object.freeze({AD:"AD",AE:"AE",AF:"AF",AG:"AG",AI:"AI",AL:"AL",AM:"AM",AN:"AN",AO:"AO",AQ:"AQ",AR:"AR",AS:"AS",AT:"AT",AU:"AU",AW:"AW",AX:"AX",AZ:"AZ",BA:"BA",BB:"BB",BD:"BD",BE:"BE",BF:"BF",BG:"BG",BH:"BH",BI:"BI",BJ:"BJ",BL:"BL",BM:"BM",BN:"BN",BO:"BO",BQ:"BQ",BR:"BR",BS:"BS",BT:"BT",BV:"BV",BW:"BW",BY:"BY",BZ:"BZ",CA:"CA",CC:"CC",CD:"CD",CF:"CF",CG:"CG",CH:"CH",CI:"CI",CK:"CK",CL:"CL",CM:"CM",CN:"CN",CO:"CO",CR:"CR",CU:"CU",CV:"CV",CW:"CW",CX:"CX",CY:"CY",CZ:"CZ",DE:"DE",DJ:"DJ",DK:"DK",DM:"DM",DO:"DO",DZ:"DZ",EC:"EC",EE:"EE",EG:"EG",EH:"EH",ER:"ER",ES:"ES",ET:"ET",FI:"FI",FJ:"FJ",FK:"FK",FM:"FM",FO:"FO",FR:"FR",GA:"GA",GB:"GB",GD:"GD",GE:"GE",GF:"GF",GG:"GG",GH:"GH",GI:"GI",GL:"GL",GM:"GM",GN:"GN",GP:"GP",GQ:"GQ",GR:"GR",GS:"GS",GT:"GT",GU:"GU",GW:"GW",GY:"GY",HK:"HK",HM:"HM",HN:"HN",HR:"HR",HT:"HT",HU:"HU",ID:"ID",IE:"IE",IL:"IL",IM:"IM",IN:"IN",IO:"IO",IQ:"IQ",IR:"IR",IS:"IS",IT:"IT",JE:"JE",JM:"JM",JO:"JO",JP:"JP",KE:"KE",KG:"KG",KH:"KH",KI:"KI",KM:"KM",KN:"KN",KP:"KP",KR:"KR",KW:"KW",KY:"KY",KZ:"KZ",LA:"LA",LB:"LB",LC:"LC",LI:"LI",LK:"LK",LR:"LR",LS:"LS",LT:"LT",LU:"LU",LV:"LV",LY:"LY",MA:"MA",MC:"MC",MD:"MD",ME:"ME",MF:"MF",MG:"MG",MH:"MH",MK:"MK",ML:"ML",MM:"MM",MN:"MN",MO:"MO",MP:"MP",MQ:"MQ",MR:"MR",MS:"MS",MT:"MT",MU:"MU",MV:"MV",MW:"MW",MX:"MX",MY:"MY",MZ:"MZ",NA:"NA",NC:"NC",NE:"NE",NF:"NF",NG:"NG",NI:"NI",NL:"NL",NO:"NO",NP:"NP",NR:"NR",NU:"NU",NZ:"NZ",OM:"OM",PA:"PA",PE:"PE",PF:"PF",PG:"PG",PH:"PH",PK:"PK",PL:"PL",PM:"PM",PN:"PN",PR:"PR",PS:"PS",PT:"PT",PW:"PW",PY:"PY",QA:"QA",RE:"RE",RO:"RO",RS:"RS",RU:"RU",RW:"RW",SA:"SA",SB:"SB",SC:"SC",SD:"SD",SE:"SE",SG:"SG",SH:"SH",SI:"SI",SJ:"SJ",SK:"SK",SL:"SL",SM:"SM",SN:"SN",SO:"SO",SR:"SR",SS:"SS",ST:"ST",SV:"SV",SX:"SX",SY:"SY",SZ:"SZ",TC:"TC",TD:"TD",TF:"TF",TG:"TG",TH:"TH",TJ:"TJ",TK:"TK",TL:"TL",TM:"TM",TN:"TN",TO:"TO",TR:"TR",TT:"TT",TV:"TV",TW:"TW",TZ:"TZ",UA:"UA",UG:"UG",UM:"UM",US:"US",UY:"UY",UZ:"UZ",VA:"VA",VC:"VC",VE:"VE",VG:"VG",VI:"VI",VN:"VN",VU:"VU",WF:"WF",WS:"WS",XK:"XK",YE:"YE",YT:"YT",ZA:"ZA",ZM:"ZM",ZW:"ZW"});f["default"]=a}),66);